const products=[{name:"Smartphone",category:"electronics",price:499,rating:4.5,img:"https://via.placeholder.com/120?text=Phone"},{name:"Laptop",category:"electronics",price:899,rating:4.7,img:"https://via.placeholder.com/120?text=Laptop"},{name:"Novel",category:"books",price:19,rating:4.2,img:"https://via.placeholder.com/120?text=Book"},{name:"T-Shirt",category:"clothing",price:25,rating:4.0,img:"https://via.placeholder.com/120?text=Shirt"},{name:"Headphones",category:"electronics",price:99,rating:4.3,img:"https://via.placeholder.com/120?text=Headphones"},{name:"Jeans",category:"clothing",price:45,rating:4.1,img:"https://via.placeholder.com/120?text=Jeans"},{name:"Cookbook",category:"books",price:29,rating:4.6,img:"https://via.placeholder.com/120?text=Cookbook"}];const productList=document.getElementById("productList"),categoryFilter=document.getElementById("categoryFilter"),sortFilter=document.getElementById("sortFilter"),cartList=document.getElementById("cartList"),cartTotal=document.getElementById("cartTotal");let cart=JSON.parse(localStorage.getItem("cart")||"[]");function renderProducts(e){productList.innerHTML="",e.forEach((e,t)=>{const r=document.createElement("div");r.className="product-card",r.innerHTML=`<img src="${e.img}" alt="${e.name}"><h3>${e.name}</h3><p>Category: ${e.category}</p><p>Rating: ${e.rating}</p><div class="price">$${e.price}</div><button data-idx="${t}">Add to Cart</button>`,r.querySelector("button").onclick=function(){addToCart(e)},productList.appendChild(r)})}function filterAndSort(){let e=products,t=categoryFilter.value;"all"!==t&&(e=e.filter(e=>e.category===t));let r=sortFilter.value;"price-asc"===r?e=e.slice().sort((e,t)=>e.price-t.price):"price-desc"===r?e=e.slice().sort((e,t)=>t.price-e.price):"rating-desc"===r&&(e=e.slice().sort((e,t)=>t.rating-e.rating)),renderProducts(e)}function addToCart(e){cart.push(e),localStorage.setItem("cart",JSON.stringify(cart)),renderCart()}function renderCart(){cartList.innerHTML="",cart.forEach((e,t)=>{const r=document.createElement("li");r.innerHTML=`${e.name} - $${e.price} <button data-idx="${t}">Remove</button>`,r.querySelector("button").onclick=function(){cart.splice(t,1),localStorage.setItem("cart",JSON.stringify(cart)),renderCart()},cartList.appendChild(r)});let e=cart.reduce((e,t)=>e+t.price,0);cartTotal.textContent=cart.length?`Total: $${e}`:""}categoryFilter.onchange=filterAndSort,sortFilter.onchange=filterAndSort,renderProducts(products),renderCart();const contactForm=document.getElementById("contactForm");contactForm&&contactForm.addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("name").value.trim(),r=document.getElementById("email").value.trim(),a=document.getElementById("message").value.trim(),n=document.getElementById("formMsg");n.style.color="red",t&&r&&a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?(n.style.color="green",n.textContent="Thank you for contacting us!",this.reset()):n.textContent="Please enter a valid email address.":n.textContent="All fields are required."});
